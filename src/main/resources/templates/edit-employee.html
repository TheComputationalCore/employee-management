<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: content">

<th:block th:with="pageTitle='Edit Employee', content='this :: contentFragment'">

<div th:fragment="contentFragment">

    <div class="split-container">

        <!-- LEFT PANEL â€” FORM -->
        <div class="split-left glass-card p-4 shadow-lg">

            <h3 class="fw-bold mb-4">
                <i class="bi bi-pencil-square me-2"></i>
                Edit Employee
            </h3>

            <form th:action="@{/web/employees/edit/{id}(id=${employee.id})}"
                  th:object="${employee}" method="post"
                  class="needs-validation" novalidate>

                <input type="hidden" th:field="*{id}"/>

                <div class="row g-4">

                    <!-- First Name -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input th:field="*{firstName}" id="preview_firstName"
                                   class="form-control floating-input preview-field" required>
                            <label>First Name</label>
                        </div>
                    </div>

                    <!-- Last Name -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input th:field="*{lastName}" id="preview_lastName"
                                   class="form-control floating-input preview-field" required>
                            <label>Last Name</label>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input th:field="*{email}" id="preview_email"
                                   class="form-control floating-input preview-field" required>
                            <label>Email</label>
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input th:field="*{phoneNumber}" id="preview_phone"
                                   class="form-control floating-input preview-field">
                            <label>Phone</label>
                        </div>
                    </div>

                    <!-- Department -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input th:field="*{department}" id="preview_department"
                                   class="form-control floating-input preview-field">
                            <label>Department</label>
                        </div>
                    </div>

                    <!-- Position -->
                    <div class="col-md-6">
                        <div class="form-floating">
                            <input th:field="*{position}" id="preview_position"
                                   class="form-control floating-input preview-field">
                            <label>Position</label>
                        </div>
                    </div>

                    <!-- Salary -->
                    <div class="col-12">
                        <div class="form-floating">
                            <input th:field="*{salary}" id="preview_salary"
                                   class="form-control floating-input preview-field" required>
                            <label>Salary</label>
                        </div>
                    </div>

                </div>

                <div class="d-flex gap-3 mt-4">
                    <button class="btn btn-primary px-4">
                        <i class="bi bi-check2 me-1"></i> Update
                    </button>
                    <a th:href="@{/web/}" class="btn btn-outline-secondary px-4">Cancel</a>
                </div>

            </form>

        </div>

        <!-- RIGHT PREVIEW PANEL -->
        <div class="split-right">

            <div class="preview-card glass-card shadow p-4 text-center">

                <div class="preview-avatar mb-3">
                    <i class="bi bi-person-circle"></i>
                </div>

                <h4 id="card_name" class="fw-bold">
                    <span th:text="${employee.firstName} + ' ' + ${employee.lastName}"></span>
                </h4>

                <p id="card_email" class="text-muted mb-1" th:text="${employee.email}">email</p>
                <p id="card_phone" class="text-muted mb-3" th:text="${employee.phoneNumber}">000</p>

                <div class="preview-info">
                    <span id="card_department" class="badge bg-primary-soft"
                          th:text="${employee.department}">Dept</span>

                    <span id="card_position" class="badge bg-purple-soft"
                          th:text="${employee.position}">Position</span>

                    <span id="card_salary" class="badge bg-green-soft"
                          th:text="'$' + ${employee.salary}">Salary</span>
                </div>
            </div>

        </div>
    </div>

</div>

</th:block>

</html>
