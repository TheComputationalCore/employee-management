<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: 'Employee Management System'"></title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/components.css}">
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>

    <!-- ========================================= -->
    <!--                PRELOADER                 -->
    <!-- ========================================= -->
    <div id="preloader">
        <div class="loader-glass"></div>
    </div>

    <!-- ========================================= -->
    <!--              SIDEBAR WRAPPER              -->
    <!-- ========================================= -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h3>EMS</h3>
        </div>

        <ul class="sidebar-menu">
            <li>
                <a th:href="@{/web/}">
                    <i class="bi bi-speedometer2"></i>
                    Dashboard
                </a>
            </li>
            <li>
                <a th:href="@{/web/employees/new}">
                    <i class="bi bi-person-plus"></i>
                    Add Employee
                </a>
            </li>
        </ul>
    </aside>

    <!-- Sidebar Toggle (Mobile) -->
    <button class="sidebar-toggle">
        <i class="bi bi-list"></i>
    </button>

    <!-- ========================================= -->
    <!--                MAIN CONTENT               -->
    <!-- ========================================= -->
    <main class="content-area">

        <!-- Navbar -->
        <nav class="navbar topbar">
            <div class="left">
                <h4 class="page-title" th:text="${pageTitle}"></h4>
            </div>

            <div class="right d-flex align-items-center gap-3">
                <!-- Dark Mode Toggle -->
                <button id="themeToggle" class="btn btn-outline-dark btn-sm theme-btn">
                    <i class="bi bi-moon"></i>
                </button>
            </div>
        </nav>

        <!-- Toast Container -->
        <div id="toastContainer" class="toast-container position-fixed top-0 end-0 p-3"></div>

        <!-- Flash Alerts -->
        <div class="container mt-3">
            <div th:if="${message}" class="alert alert-success shadow-sm">
                <span th:text="${message}"></span>
            </div>

            <div th:if="${error}" class="alert alert-danger shadow-sm">
                <span th:text="${error}"></span>
            </div>
        </div>

        <!-- Dynamic Page Body -->
        <section class="page-body container mt-4">
            <div th:replace="${content}"></div>
        </section>

    </main>

    <!-- ========================================= -->
    <!--               JS ASSETS                   -->
    <!-- ========================================= -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/ui.js}"></script>

</body>

</html>
