<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">

<!-- PAGE CONTENT -->
<div layout:fragment="content">

    <style>
        .form-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 26px;
            margin-top: 20px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.05);
            max-width: 650px;
        }

        .form-title {
            font-weight: 700;
            margin-bottom: 20px;
        }
    </style>

    <h2 class="fw-semibold mb-4">
        Schedule Interview — <span th:text="${application.fullName}"></span>
    </h2>

    <div class="form-card">

        <h4 class="form-title">Interview Details</h4>

        <!-- ✔ FIXED: Correct endpoint (matches controller) -->
        <!-- Controller method: POST /web/recruitment/interview/schedule -->
        <form th:action="@{/web/recruitment/interview/schedule}" method="post">

            <input type="hidden" name="appId" th:value="${application.id}"/>

            <!-- Interview Type -->
            <div class="mb-3">
                <label class="fw-medium">Interview Type</label>
                <select class="form-select" name="type" required>
                    <option>HR Round</option>
                    <option>Technical Round</option>
                    <option>Manager Round</option>
                    <option>Final Round</option>
                </select>
            </div>

            <!-- Date -->
            <div class="mb-3">
                <label class="fw-medium">Date</label>
                <input class="form-control" type="date" name="date" required>
            </div>

            <!-- Time -->
            <div class="mb-3">
                <label class="fw-medium">Time</label>
                <input class="form-control" type="time" name="time" required>
            </div>

            <!-- Interviewer -->
            <div class="mb-3">
                <label class="fw-medium">Interviewer Name</label>
                <input class="form-control" type="text" name="interviewer" required>
            </div>

            <!-- Notes -->
            <div class="mb-3">
                <label class="fw-medium">Notes (Optional)</label>
                <textarea class="form-control" name="notes" rows="4"></textarea>
            </div>

            <!-- Actions -->
            <button class="btn btn-primary me-2">
                <i data-feather="calendar" class="me-1"></i>
                Schedule Interview
            </button>

            <a th:href="@{'/web/recruitment/candidate/' + ${application.id}}"
               class="btn btn-outline-secondary">
                <i data-feather="arrow-left" class="me-1"></i>
                Cancel
            </a>

        </form>

    </div>

</div>

<!-- PAGE SCRIPTS -->
<div layout:fragment="scripts">
    <script src="https://unpkg.com/feather-icons"></script>
    <script> feather.replace(); </script>
</div>

</html>
